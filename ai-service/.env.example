# SIDOT AI Service Environment Variables
# Copy this file to .env and configure for your environment

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development
DEBUG=true

# =============================================================================
# Server Configuration
# =============================================================================
HOST=0.0.0.0
PORT=8000

# =============================================================================
# Database (PostgreSQL)
# Use the same database as the main SIDOT application
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/sidot
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# =============================================================================
# Redis
# Reuses existing SIDOT Redis instance with separate database (1)
# =============================================================================
REDIS_URL=redis://redis:6379/1
REDIS_KEY_PREFIX=sidot:ai:
REDIS_MAX_CONNECTIONS=10
REDIS_MESSAGE_TTL=3600

# =============================================================================
# JWT Authentication
# MUST match the JWT_SECRET from the Go backend
# =============================================================================
JWT_SECRET=dev-jwt-secret-change-in-production
JWT_ALGORITHM=HS256

# =============================================================================
# OpenAI / LLM Configuration
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
AI_MODEL=gpt-4o
EMBEDDING_MODEL=multilingual-e5-large

# =============================================================================
# Vector Store (Qdrant)
# =============================================================================
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION_PREFIX=sidot_

# =============================================================================
# Go Backend Integration
# URL for communication with the main Go backend
# =============================================================================
GO_BACKEND_URL=http://backend:8080

# =============================================================================
# Celery Task Queue
# Broker uses Redis, Result backend uses PostgreSQL for audit compliance
# =============================================================================
# Note: CELERY_BROKER_URL defaults to REDIS_URL
# Note: CELERY_RESULT_BACKEND defaults to DATABASE_URL
